# üß† –ü–û–õ–ù–´–ô –û–¢–í–ï–¢ GPT-5 PRO: –°–ò–°–¢–ï–ú–ê –°–ê–ú–û–û–ë–£–ß–ï–ù–ò–Ø

**–î–∞—Ç–∞:** 2025-10-19 02:10:17  
**–ú–æ–¥–µ–ª—å:** gpt-5-pro  
**–í—Å–µ–≥–æ —Ç–æ–∫–µ–Ω–æ–≤:** 41,044

---

–ù–∏–∂–µ ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º–∞—è ¬´–Ω–∞–¥—Å—Ç—Ä–æ–π–∫–∞¬ª –¥–ª—è —Å–∞–º–æ–æ–±—É—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ ¬´–≤—Å—Ç–∞–≤–∏—Ç—å¬ª –≤ –≤–∞—à —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π test_agent3_air.py, –Ω–µ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∏ –Ω–µ –º–µ–Ω—è—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ (–≤–∫–ª—é—á–∞—è register_airtable_account, –µ—Å–ª–∏ –≤—ã –µ—ë –≤—ã–∑—ã–≤–∞–µ—Ç–µ —Å–Ω–∞—Ä—É–∂–∏). –û–Ω–∞:

- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—é —à–∞–≥–æ–≤ (–≤—Ä–µ–º—è, —É—Å–ø–µ—Ö/–æ—à–∏–±–∫—É, –¥–æ–º–µ–Ω, —Å—Ç—Ä–∞—Ç–µ–≥–∏—é);
- –•—Ä–∞–Ω–∏—Ç –∏ –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç –æ–ø—ã—Ç –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏ (SQLite, –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π);
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–±–∏—Ä–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ navigate, —Ç–∞–π–º–∞—É—Ç—ã, –ø–æ—Ä—è–¥–æ–∫ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Å—Å—ã–ª–æ–∫/–ø–æ—á—Ç—ã);
- –ë–∞–ª–∞–Ω—Å–∏—Ä—É–µ—Ç exploitation/exploration —á–µ—Ä–µ–∑ epsilon-greedy;
- –í—Å—Ç—Ä–æ–µ–Ω–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ –ø—Ä–∞–≤–∫–∞–º–∏ –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–æ—á–∫–∏ (navigate, switch tabs, –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ email –∏ verification link, safe_screenshot, —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç).

## –ß–∞—Å—Ç—å 1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∞–º–æ–æ–±—É—á–µ–Ω–∏—è

### –•—Ä–∞–Ω–∏–ª–∏—â–µ –æ–ø—ã—Ç–∞ (SQLite, —Ñ–∞–π–ª selflearn_airtable.sqlite3):

- **runs**: –æ–¥–∏–Ω –∑–∞–ø—É—Å–∫/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (phase: unified/email/registration/onboarding, —Å—Ç–∞—Ç—É—Å, confirmed, –≤—Ä–µ–º—è).
- **actions**: –ø–æ—à–∞–≥–æ–≤–∞—è —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—è (navigate/click/.../custom), –¥–æ–º–µ–Ω, URL, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –≤—Ä–µ–º—è, —É—Å–ø–µ—Ö/–æ—à–∏–±–∫–∞.
- **params**: —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤/—Å—Ç—Ä–∞—Ç–µ–≥–∏–π (nav_strategy, timeouts, order –º–µ—Ç–æ–¥–æ–≤ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∏ —Ç.–¥.) —Å —É—á–µ—Ç–∞–º–∏ n, success, tot_ms; –Ω–∞ –æ—Å–Ω–æ–≤–µ —ç—Ç–æ–≥–æ –≤—ã–±–∏—Ä–∞—é—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ —Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–ø—É—Å–∫–∞—Ö.

### –ü–æ–ª–∏—Ç–∏–∫–∞ –≤—ã–±–æ—Ä–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:

- Epsilon-greedy –¥–ª—è –¥–∏—Å–∫—Ä–µ—Ç–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π (–ø—Ä–∏–º–µ—Ä: nav_strategy ‚àà {domcontentloaded, load, minimal}).
- –†–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ –º–µ—Ç–æ–¥–æ–≤ (rank_methods) –ø–æ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏/—Å–∫–æ—Ä–æ—Å—Ç–∏.
- –ê–≤—Ç–æ-–ø–æ–¥–±–æ—Ä —á–∏—Å–ª–µ–Ω–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (timeouts), —Ç–∞–∫–∂–µ —á–µ—Ä–µ–∑ epsilon-greedy (choose_numeric).

### –¢–æ—á–∫–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:

- execute_computer_use_action: navigate (—Å—Ç—Ä–∞—Ç–µ–≥–∏—è + –æ–∂–∏–¥–∞–Ω–∏—è), switch_to_* (–æ–∂–∏–¥–∞–Ω–∏–µ –ø–æ—Å–ª–µ bring_to_front).
- safe_screenshot (—Ç–∞–π–º–∞—É—Ç).
- extract_email_from_tempmail_page (—Å–∫–æ–ª—å–∫–æ –∂–¥–∞—Ç—å –¥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è email, –ø–æ—Ä—è–¥–æ–∫ –º–µ—Ç–æ–¥–æ–≤).
- extract_verification_link_from_page (–ø–æ—Ä—è–¥–æ–∫ –º–µ—Ç–æ–¥–æ–≤).
- save_registration_result (—Ñ–∏–Ω–∞–ª).

### –ë–∞–ª–∞–Ω—Å exploitation/exploration:

- –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∏ —Ç–∞–π–º–∞—É—Ç—ã –≤—ã–±–∏—Ä–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ LEARN.choose_*: —á–∞—â–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª—É—á—à–µ–µ –Ω–∞—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ, –Ω–æ —Å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é epsilon –±–µ—Ä—ë—Ç—Å—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç.
- Epsilon –º–æ–∂–Ω–æ —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è AUTOLEARN_EPS (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0.12).

---

## –ß–∞—Å—Ç—å 2. –ö–æ–¥: —è–¥—Ä–æ —Å–∞–º–æ–æ–±—É—á–µ–Ω–∏—è –∏ —Ç–æ—á–µ—á–Ω—ã–µ –≤—Å—Ç–∞–≤–∫–∏

### –®–∞–≥ 2.1. –î–æ–±–∞–≤—å—Ç–µ –±–ª–æ–∫ ¬´SELF-LEARNING CORE¬ª —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–æ–≤

(–ø–æ—Å–ª–µ –≤—Å–µ—Ö import ‚Ä¶, –¥–æ –æ—Å—Ç–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞):

```python
# ==================== SELF-LEARNING CORE (drop-in) ====================
import sqlite3
import random
import atexit
from time import perf_counter
from contextlib import contextmanager

class SelfLearnStore:
    def __init__(self, path="selflearn_airtable.sqlite3", epsilon_env_var="AUTOLEARN_EPS"):
        self.conn = sqlite3.connect(path, check_same_thread=False)
        self.cur = self.conn.cursor()
        self._init_schema()
        self.current_run_id = None
        self.step_counter = 0
        # –≠–ø—Å–∏–ª–æ–Ω –¥–ª—è exploration
        try:
            self.epsilon = float(os.getenv(epsilon_env_var, "0.12"))
        except Exception:
            self.epsilon = 0.12

    def _init_schema(self):
        self.cur.execute("""
            CREATE TABLE IF NOT EXISTS runs (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                ts TEXT,
                phase TEXT,
                email TEXT,
                result_status TEXT,
                confirmed INTEGER,
                total_ms INTEGER,
                notes TEXT
            )
        """)
        self.cur.execute("""
            CREATE TABLE IF NOT EXISTS actions (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                run_id INTEGER,
                step INTEGER,
                action TEXT,
                domain TEXT,
                url TEXT,
                params TEXT,
                success INTEGER,
                error TEXT,
                duration_ms INTEGER,
                created_at TEXT
            )
        """)
        self.cur.execute("""
            CREATE TABLE IF NOT EXISTS params (
                key TEXT,
                context TEXT,
                value TEXT,
                n INTEGER,
                success INTEGER,
                tot_ms INTEGER,
                last_ts TEXT,
                PRIMARY KEY (key, context, value)
            )
        """)
        self.conn.commit()

    def start_run(self, phase: str, email: str | None = None, extra: dict | None = None):
        ts = datetime.now().isoformat()
        self.cur.execute(
            "INSERT INTO runs (ts, phase, email, result_status, confirmed, total_ms, notes) VALUES (?, ?, ?, ?, ?, ?, ?)",
            (ts, phase, email or "", "", 0, 0, json.dumps(extra or {}, ensure_ascii=False))
        )
        self.current_run_id = self.cur.lastrowid
        self.step_counter = 0
        self.conn.commit()
        return self.current_run_id

    def finish_run(self, status: str, confirmed: bool = False, notes: str = "", total_ms: int | None = None):
        if self.current_run_id is None:
            return
        self.cur.execute(
            "UPDATE runs SET result_status=?, confirmed=?, notes=?, total_ms=? WHERE id=?",
            (status or "", int(bool(confirmed)), notes or "", int(total_ms or 0), self.current_run_id)
        )
        self.conn.commit()

    def log_action(self, action: str, domain: str | None, url: str | None, params: dict | None,
                   success: bool, duration_ms: int, error: str | None = None, selector: str | None = None):
        self.step_counter += 1
        self.cur.execute(
            "INSERT INTO actions (run_id, step, action, domain, url, params, success, error, duration_ms, created_at) "
            "VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",
            (
                self.current_run_id, self.step_counter, action,
                (domain or ""), (url or ""),
                json.dumps(params or {}, ensure_ascii=False),
                int(bool(success)), (error or "")[:4000],
                int(duration_ms or 0), datetime.now().isoformat()
            )
        )
        if selector:
            # –û—Ç–¥–µ–ª—å–Ω–æ —É—á–∏—Ç—ã–≤–∞–µ–º ¬´–Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å¬ª —Å–µ–ª–µ–∫—Ç–æ—Ä–∞
            self.record_param_outcome("selector_ok", f"{domain}:{selector}", "used", success=int(bool(success)), duration_ms=duration_ms)
        self.conn.commit()

    def record_param_outcome(self, key: str, context: str, value, success: bool, duration_ms: int):
        self.cur.execute("""
            INSERT INTO params (key, context, value, n, success, tot_ms, last_ts)
            VALUES (?, ?, ?, 1, ?, ?, ?)
            ON CONFLICT(key, context, value) DO UPDATE SET
                n = n + 1,
                success = success + excluded.success,
                tot_ms = tot_ms + excluded.tot_ms,
                last_ts = excluded.last_ts
        """, (key, context or "", str(value), int(bool(success)), int(duration_ms or 0), datetime.now().isoformat()))
        self.conn.commit()

    def _stats_for(self, key: str, context: str):
        self.cur.execute("SELECT value, n, success, tot_ms FROM params WHERE key=? AND context=?", (key, context or ""))
        rows = self.cur.fetchall()
        stats = {}
        for v, n, s, tot in rows:
            stats[v] = {"n": n, "success": s, "tot_ms": tot, "avg_ms": (tot / (n or 1))}
        return stats

    def choose_option(self, key: str, context: str, options: list, default=None, minimize_time_weight: float = 0.25):
        # epsilon-greedy –ø–æ reward = success_rate - w * normalized_time
        options = list(options)
        stats = self._stats_for(key, context)
        unexplored = [o for o in options if str(o) not in stats]

        if unexplored:
            choice = random.choice(unexplored)
        else:
            if random.random() < self.epsilon:
                choice = random.choice(options)
            else:
                best = None
                best_score = -1e9
                for o in options:
                    s = stats.get(str(o), {"n": 0, "success": 0, "avg_ms": 2000})
                    n = s["n"]; succ = s["success"]; avg_ms = s["avg_ms"]
                    succ_rate = (succ / n) if n > 0 else 0.5
                    time_penalty = minimize_time_weight * (avg_ms / 5000.0)
                    score = succ_rate - time_penalty
                    if score > best_score:
                        best_score = score
                        best = o
                choice = best if best is not None else (default if default in options else options[0])
        return choice

    def choose_numeric(self, key: str, context: str, candidates: list[int | float], default=None):
        val = self.choose_option(key, context, candidates, default=default)
        try:
            return int(val)
        except Exception:
            return float(val)

    def rank_methods(self, key: str, context: str, default_order: list[str]):
        # –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –º–µ—Ç–æ–¥–æ–≤ –ø–æ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ –∏ —Å–∫–æ—Ä–æ—Å—Ç–∏
        stats = self._stats_for(key, context)
        def score(m):
            s = stats.get(m, {"n": 0, "success": 0, "avg_ms": 2500})
            n = s["n"]; succ = s["success"]; avg = s["avg_ms"]
            succ_rate = (succ / n) if n > 0 else 0.5
            return succ_rate - 0.2 * (avg / 5000.0)
        known = [m for m in default_order if m in stats]
        unknown = [m for m in default_order if m not in stats]
        ordered = sorted(known, key=lambda m: score(m), reverse=True) + unknown
        # –ù–µ–±–æ–ª—å—à–∞—è —ç–∫—Å–ø–ª–æ—Ä–∞—Ü–∏—è: –∏–Ω–æ–≥–¥–∞ –º–µ–Ω—è–µ–º –º–µ—Å—Ç–∞–º–∏ —Ç–æ–ø-2
        if len(ordered) >= 2 and random.random() < 0.1:
            ordered[0], ordered[1] = ordered[1], ordered[0]
        return ordered

def _domain_from_url(url: str | None) -> str:
    try:
        if not url:
            return ""
        return (urlparse(url).hostname or "").lower()
    except Exception:
        return ""

LEARN = SelfLearnStore("selflearn_airtable.sqlite3")
atexit.register(lambda: getattr(LEARN, "conn", None) and LEARN.conn.close())
# ======================================================================
```

### –®–∞–≥ 2.2. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏—Ä—É–µ–º safe_screenshot

(–º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–∞–≤–∫–∞: –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ç–∞–π–º–∞—É—Ç + –ª–æ–≥):

–ù–∞–π–¥–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é safe_screenshot –∏ –∑–∞–º–µ–Ω–∏—Ç–µ –µ—ë —Ç–µ–ª–æ –Ω–∞:

```python
async def safe_screenshot(page, full_page: bool = False, timeout_ms: int = 10000) -> Optional[bytes]:
    """–î–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç —Å —É—á—ë—Ç–æ–º —Å–∞–º–æ–æ–±—É—á–∞—é—â–µ–≥–æ—Å—è —Ç–∞–π–º–∞—É—Ç–∞ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º."""
    # –ü–æ–¥–±–∏—Ä–∞–µ–º —Ç–∞–π–º–∞—É—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–ø—ã—Ç–∞
    domain = _domain_from_url(getattr(page, "url", ""))
    chosen_timeout = LEARN.choose_numeric("screenshot_timeout_ms", domain or "any", [6000, 8000, 10000, 12000, 15000], default=timeout_ms)
    t0 = perf_counter()
    try:
        img = await page.screenshot(type="png", full_page=full_page, timeout=chosen_timeout)
        dt = int((perf_counter() - t0) * 1000)
        LEARN.log_action("screenshot", domain, getattr(page, "url", ""), {"full_page": full_page, "timeout_ms": chosen_timeout}, True, dt)
        LEARN.record_param_outcome("screenshot_timeout_ms", domain or "any", chosen_timeout, True, dt)
        return img
    except Exception as e:
        dt = int((perf_counter() - t0) * 1000)
        LEARN.log_action("screenshot", domain, getattr(page, "url", ""), {"full_page": full_page, "timeout_ms": chosen_timeout}, False, dt, error=str(e))
        LEARN.record_param_outcome("screenshot_timeout_ms", domain or "any", chosen_timeout, False, dt)
        print(f"‚ö†Ô∏è Screenshot failed: {e}. Skipping image for this turn.")
        return None
```

### –®–∞–≥ 2.3. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏—Ä—É–µ–º –∏ ¬´–æ–±—É—á–∞–µ–º¬ª navigate –∏ switch_to_* –≤ execute_computer_use_action

–í–Ω—É—Ç—Ä–∏ execute_computer_use_action:
- –í –≤–µ—Ç–∫–µ action == "switch_to_mail_tab" –∏ "switch_to_airtable_tab" –∑–∞–º–µ–Ω–∏—Ç–µ —Å—Ç–∞–±–∏–ª—å–Ω—É—é –ø–∞—É–∑—É 1.0 —Å–µ–∫ –Ω–∞ –∞–¥–∞–ø—Ç–∏–≤–Ω—É—é.
- –í –≤–µ—Ç–∫–µ action == "navigate" –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ auto-–≤—ã–±–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∏ —Ç–∞–π–º–∞—É—Ç–æ–≤.

–§—Ä–∞–≥–º–µ–Ω—Ç—ã –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏:

**1) –í –±–ª–æ–∫–µ "switch_to_mail_tab" (–ø–µ—Ä–µ–¥ return):**

```python
# –≤–º–µ—Å—Ç–æ: await asyncio.sleep(1.0)
tab_wait_ms = LEARN.choose_numeric("tab_switch_wait_ms", "tabs", [300, 600, 800, 1000, 1200, 1500], default=1000)
t0 = perf_counter()
await asyncio.sleep(tab_wait_ms / 1000)
LEARN.log_action("switch_tab", _domain_from_url(page_mail.url), page_mail.url, {"target": "mail", "wait_ms": tab_wait_ms}, True, int((perf_counter()-t0)*1000))
LEARN.record_param_outcome("tab_switch_wait_ms", "tabs", tab_wait_ms, True, tab_wait_ms)
```

**2) –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –≤ "switch_to_airtable_tab":**

```python
tab_wait_ms = LEARN.choose_numeric("tab_switch_wait_ms", "tabs", [300, 600, 800, 1000, 1200, 1500], default=1000)
t0 = perf_counter()
await asyncio.sleep(tab_wait_ms / 1000)
LEARN.log_action("switch_tab", _domain_from_url(page_airtable.url), page_airtable.url, {"target": "airtable", "wait_ms": tab_wait_ms}, True, int((perf_counter()-t0)*1000))
LEARN.record_param_outcome("tab_switch_wait_ms", "tabs", tab_wait_ms, True, tab_wait_ms)
```

**3) –í –≤–µ—Ç–∫–µ action == "navigate" –∑–∞–º–µ–Ω–∏—Ç–µ ¬´–∂—ë—Å—Ç–∫–∏–π¬ª –ø–æ—Ä—è–¥–æ–∫ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –Ω–∞ –æ–±—É—á–∞–µ–º—ã–π:**

–ù–∞–π–¥–∏—Ç–µ –º–µ—Å—Ç–æ, –≥–¥–µ —Å–µ–π—á–∞—Å:
- –∂–¥—ë–º 1000 –º—Å,
- –ø—ã—Ç–∞–µ–º—Å—è domcontentloaded ‚Üí load ‚Üí minimal,
- –∑–∞—Ç–µ–º –∂–¥—ë–º –¥–æ–ø. –≤—Ä–µ–º—è –∏ –∂–¥—ë–º —Å–µ–ª–µ–∫—Ç–æ—Ä—ã.

–ó–∞–º–µ–Ω–∏—Ç–µ —ç—Ç–æ—Ç –∫—É—Å–æ–∫ –Ω–∞:

```python
elif action == "navigate":
    url = args.get("url", "")
    if not is_allowed_url(url):
        return {"success": False, "message": f"Navigation blocked by policy: {url}", "url": page.url}
    domain = _domain_from_url(url)
    # –í—ã–±–æ—Ä —Å—Ç–∞—Ä—Ç–æ–≤–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–ø—ã—Ç–∞
    strategy = LEARN.choose_option("nav_strategy", domain, ["domcontentloaded", "load", "minimal"], default="domcontentloaded")
    after_wait_ms = LEARN.choose_numeric("nav_after_wait_ms", domain, [500, 1000, 1500, 2000, 3000], default=1500)
    selector_timeout_ms = LEARN.choose_numeric("selector_timeout_ms", domain, [5000, 8000, 10000, 12000, 15000], default=10000)

    # –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
    await page.wait_for_timeout(LEARN.choose_numeric("pre_nav_pause_ms", domain, [500, 800, 1000, 1200], default=1000))

    tried = []
    success = False
    err_msgs = []
    t_nav0 = perf_counter()

    # –°—Ñ–æ—Ä–º–∏—Ä—É–µ–º –ø–æ—Ä—è–¥–æ–∫ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π: –≤—ã–±—Ä–∞–Ω–Ω–∞—è + 2 –∑–∞–ø–∞—Å–Ω—ã—Ö
    strategies = [strategy] + [s for s in ["domcontentloaded", "load", "minimal"] if s != strategy]
    for strat in strategies:
        tried.append(strat)
        try:
            print(f"  üåê –ù–∞–≤–∏–≥–∞—Ü–∏—è –Ω–∞ {url} (—Å—Ç—Ä–∞—Ç–µ–≥–∏—è: {strat})...")
            if strat == "domcontentloaded":
                await page.goto(url, wait_until="domcontentloaded", timeout=20000)
            elif strat == "load":
                await page.goto(url, wait_until="load", timeout=15000)
            else:
                nav_task = page.goto(url, wait_until=None)
                await asyncio.sleep(LEARN.choose_numeric("nav_minimal_wait_ms", domain, [1500, 2000, 3000], default=3000) / 1000)
                await asyncio.wait_for(nav_task, timeout=5)

            await page.wait_for_timeout(after_wait_ms)
            print(f"  ‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ: {page.url}")
            # –î–æ–ø. –æ–∂–∏–¥–∞–Ω–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ –ø–æ –¥–æ–º–µ–Ω—É
            try:
                if "temp-mail" in url or "tempmail" in url.lower():
                    t_sel = perf_counter()
                    await page.wait_for_selector("#mail, input[type='email']", timeout=selector_timeout_ms)
                    dt_sel = int((perf_counter() - t_sel)*1000)
                    LEARN.log_action("selector_wait", domain, page.url, {"selector": "#mail, input[type='email']"}, True, dt_sel, selector="#mail")
                    LEARN.record_param_outcome("selector_timeout_ms", domain, selector_timeout_ms, True, dt_sel)
                elif "airtable" in url:
                    t_sel = perf_counter()
                    await page.wait_for_selector("input, button, form, [role='main']", timeout=selector_timeout_ms)
                    dt_sel = int((perf_counter() - t_sel)*1000)
                    LEARN.log_action("selector_wait", domain, page.url, {"selector": "input, button, form, [role='main']"}, True, dt_sel)
                    LEARN.record_param_outcome("selector_timeout_ms", domain, selector_timeout_ms, True, dt_sel)
                else:
                    await page.wait_for_selector("body", timeout=5000)
            except Exception as e_sel:
                # –õ–æ–≥–∏—Ä—É–µ–º, –Ω–æ –Ω–µ –ø–∞–¥–∞–µ–º
                LEARN.log_action("selector_wait", domain, page.url, {"selector": "(domain-default)"}, False, 0, error=str(e_sel))

            success = True
            break
        except Exception as e_try:
            msg = str(e_try)
            err_msgs.append(f"{strat}: {msg[:80]}")
            print(f"  ‚ö†Ô∏è  –°—Ç—Ä–∞—Ç–µ–≥–∏—è {strat} –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–∞ ({msg[:80]}) ‚Üí –ø—Ä–æ–±—É—é —Å–ª–µ–¥—É—é—â—É—é...")

    dt_nav = int((perf_counter() - t_nav0) * 1000)
    LEARN.log_action("navigate", domain, url, {"tried": tried, "chosen": strategy, "after_wait_ms": after_wait_ms}, success, dt_nav, error=" | ".join(err_msgs))
    LEARN.record_param_outcome("nav_strategy", domain, strategy, success, dt_nav)
    LEARN.record_param_outcome("nav_after_wait_ms", domain, after_wait_ms, success, dt_nav)

    if not success:
        return {"success": False, "message": f"Navigate failed ({' | '.join(err_msgs)})", "url": page.url}

    return {"success": True, "message": f"–ü–µ—Ä–µ—à–µ–ª –Ω–∞ {page.url}", "url": page.url}
```

### –®–∞–≥ 2.4. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ email: –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ + –ª–æ–≥–∏–∫–∞ –ø–æ—Ä—è–¥–∫–∞ –º–µ—Ç–æ–¥–æ–≤

–í —Ñ—É–Ω–∫—Ü–∏–∏ extract_email_from_tempmail_page —Å–¥–µ–ª–∞–µ–º:
- –û–±—É—á–∞–µ–º–æ–µ –≤—Ä–µ–º—è ¬´–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –æ–∂–∏–¥–∞–Ω–∏—è¬ª –ø–æ—è–≤–ª–µ–Ω–∏—è email;
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ –∫–∞–∂–¥–æ–≥–æ –º–µ—Ç–æ–¥–∞;
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ—Å—Ç–∞–≤–ª—è—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –º–µ—Ç–æ–¥–æ–≤ (–ø–æ —Ñ–∞–∫—Ç—É –∑–¥–µ—Å—å –æ—Å–Ω–æ–≤–Ω–æ–µ ‚Äî JS –ø–æ–∏—Å–∫, –ø–æ—Ç–æ–º regex/—Å–µ–ª–µ–∫—Ç–æ—Ä—ã).

–ó–∞–º–µ–Ω–∏—Ç–µ —Ç–µ–ª–æ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞:

```python
async def extract_email_from_tempmail_page(page) -> str:
    """–ò–∑–≤–ª–µ–∫–∞–µ—Ç email —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã temp-mail.org —Å —Å–∞–º–æ–æ–±—É—á–∞–µ–º—ã–º–∏ —Ç–∞–π–º–∞—É—Ç–∞–º–∏ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º."""
    domain = _domain_from_url(getattr(page, "url", "https://temp-mail.org/en/"))
    total_wait_ms = LEARN.choose_numeric("email_initial_wait_ms", "temp-mail", [8000, 10000, 12000, 15000, 20000], default=15000)
    attempts = max(1, int(total_wait_ms / 500))
    print(f"  ‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ email (–¥–æ ~{int(total_wait_ms/1000)} —Å–µ–∫, {attempts} –ø–æ–ø—ã—Ç–æ–∫)...")

    # –ú–µ—Ç–æ–¥ 1: –ê–∫—Ç–∏–≤–Ω—ã–π JS-–ø–æ–∏—Å–∫
    t0 = perf_counter()
    for attempt in range(attempts):
        try:
            email = await page.evaluate('''() => {
                let input = document.querySelector('#mail');
                if (input && input.value && input.value.includes('@')) return input.value;
                let inputs = document.querySelectorAll('input');
                for (let inp of inputs) {
                    if (inp.value && inp.value.includes('@') && (!inp.placeholder || !inp.placeholder.includes('@'))) {
                        return inp.value;
                    }
                }
                let elements = document.querySelectorAll('[class*="mail"], [class*="email"], [id*="mail"], [id*="email"]');
                for (let el of elements) {
                    if (el.value && el.value.includes('@')) return el.value;
                    if (el.innerText && el.innerText.includes('@')) return el.innerText;
                }
                return null;
            }''')
            if email and '@' in email and '.' in email:
                dt = int((perf_counter() - t0) * 1000)
                LEARN.log_action("email_extract_js", domain, page.url, {"attempt": attempt+1, "total_wait_ms": total_wait_ms}, True, dt)
                LEARN.record_param_outcome("email_extract_method", "temp-mail", "js", True, dt)
                print(f"  ‚úÖ –ù–∞–π–¥–µ–Ω email —á–µ—Ä–µ–∑ JavaScript: {email}")
                return email
        except Exception as e_js:
            pass
        await asyncio.sleep(0.5)
    dt_js = int((perf_counter() - t0) * 1000)
    LEARN.log_action("email_extract_js", domain, page.url, {"attempts": attempts, "total_wait_ms": total_wait_ms}, False, dt_js)
    LEARN.record_param_outcome("email_initial_wait_ms", "temp-mail", total_wait_ms, False, dt_js)

    # –ú–µ—Ç–æ–¥ 2: Regex
    try:
        t1 = perf_counter()
        html = await page.content()
        email_pattern = r'\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b'
        matches = re.findall(email_pattern, html)
        for match in matches:
            if 'example.com' not in match and 'test.com' not in match:
                dt = int((perf_counter() - t1) * 1000)
                LEARN.log_action("email_extract_regex", domain, page.url, None, True, dt)
                LEARN.record_param_outcome("email_extract_method", "temp-mail", "regex", True, dt)
                print(f"  ‚úÖ –ù–∞–π–¥–µ–Ω email —á–µ—Ä–µ–∑ regex: {match}")
                return match
        dt = int((perf_counter() - t1) * 1000)
        LEARN.log_action("email_extract_regex", domain, page.url, None, False, dt)
    except Exception as e:
        pass

    # –ú–µ—Ç–æ–¥ 3: –°–µ–ª–µ–∫—Ç–æ—Ä—ã –Ω–∞–ø—Ä—è–º—É—é
    try:
        t2 = perf_counter()
        input_field = await page.query_selector('#mail, input[type="email"], input[type="text"]')
        if input_field:
            email = await input_field.input_value()
            if email and '@' in email and '.' in email:
                dt = int((perf_counter() - t2) * 1000)
                LEARN.log_action("email_extract_selector", domain, page.url, {"selector": "#mail | input"}, True, dt, selector="#mail")
                LEARN.record_param_outcome("email_extract_method", "temp-mail", "selector", True, dt)
                return email
        dt = int((perf_counter() - t2) * 1000)
        LEARN.log_action("email_extract_selector", domain, page.url, {"selector": "#mail | input"}, False, dt)
    except Exception:
        pass

    # –ú–µ—Ç–æ–¥ 4: –û–ø—Ä–∞—à–∏–≤–∞–µ–º –≤—Å–µ inputs
    try:
        t3 = perf_counter()
        all_emails = await page.evaluate('''() => {
            const inputs = document.querySelectorAll('input');
            for (let inp of inputs) {
                if (inp.value && inp.value.includes('@')) return inp.value;
            }
            return null;
        }''')
        if all_emails and '@' in all_emails:
            dt = int((perf_counter() - t3) * 1000)
            LEARN.log_action("email_extract_all_inputs", domain, page.url, None, True, dt)
            LEARN.record_param_outcome("email_extract_method", "temp-mail", "all_inputs", True, dt)
            return all_emails
        dt = int((perf_counter() - t3) * 1000)
        LEARN.log_action("email_extract_all_inputs", domain, page.url, None, False, dt)
    except:
        pass

    return "ERROR: Email not found. Make sure page is fully loaded and email is visible."
```

### –®–∞–≥ 2.5. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ verification link: –æ–±—É—á–∞–µ–º—ã–π –ø–æ—Ä—è–¥–æ–∫ –º–µ—Ç–æ–¥–æ–≤ + –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–º–µ–Ω–∏—Ç–µ —Ç–µ–ª–æ extract_verification_link_from_page –Ω–∞:

```python
async def extract_verification_link_from_page(page) -> str:
    """–ò–∑–≤–ª–µ–∫–∞–µ—Ç verification link —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–∏—Å—å–º–∞ Airtable —Å –æ–±—É—á–∞–µ–º—ã–º –ø–æ—Ä—è–¥–∫–æ–º –º–µ—Ç–æ–¥–æ–≤."""
    domain = _domain_from_url(getattr(page, "url", ""))
    # –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–µ—Ç–æ–¥—ã
    default_order = ["regex", "js_links", "selector", "click_then_regex", "click_then_js"]
    order = LEARN.rank_methods("verify_extract_order", "airtable_email", default_order)
    print(f"  üîç –ü–æ—Ä—è–¥–æ–∫ –ø–æ–ø—ã—Ç–æ–∫ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Å—Å—ã–ª–∫–∏: {order}")

    patterns = [
        r'https://airtable\.com/auth/verifyEmail/[^\s"<>\']+',
        r'https://airtable\.com/verify[^\s"<>\']+',
        r'https://[^/]*airtable\.com/[^\s"<>\']*verify[^\s"<>\']*',
    ]

    async def try_regex(source="page"):
        t0 = perf_counter()
        html = await page.content()
        for pattern in patterns:
            match = re.search(pattern, html)
            if match:
                url = match.group(0)
                dt = int((perf_counter() - t0) * 1000)
                LEARN.log_action("verify_extract_regex", domain, page.url, {"source": source}, True, dt)
                LEARN.record_param_outcome("verify_extract_order", "airtable_email", "regex", True, dt)
                print(f"  ‚úÖ –ù–∞–π–¥–µ–Ω URL —á–µ—Ä–µ–∑ regex: {url}")
                return url
        dt = int((perf_counter() - t0) * 1000)
        LEARN.log_action("verify_extract_regex", domain, page.url, {"source": source}, False, dt)
        return None

    async def try_js_links(source="page"):
        t0 = perf_counter()
        try:
            links = await page.evaluate('''() => {
                return Array.from(document.querySelectorAll('a'))
                    .map(a => a.href)
                    .filter(href => href && (
                        href.includes('airtable.com/auth') || 
                        href.includes('verifyEmail') ||
                        href.includes('airtable.com/verify')
                    ));
            }''')
            if links and len(links) > 0:
                dt = int((perf_counter() - t0) * 1000)
                LEARN.log_action("verify_extract_js_links", domain, page.url, None, True, dt)
                LEARN.record_param_outcome("verify_extract_order", "airtable_email", "js_links", True, dt)
                print(f"  ‚úÖ –ù–∞–π–¥–µ–Ω URL —á–µ—Ä–µ–∑ JS: {links[0]}")
                return links[0]
        except Exception as e:
            pass
        dt = int((perf_counter() - t0) * 1000)
        LEARN.log_action("verify_extract_js_links", domain, page.url, None, False, dt)
        return None

    async def try_selector():
        t0 = perf_counter()
        try:
            link = await page.query_selector('a[href*="verifyEmail"]')
            if link:
                url = await link.get_attribute('href')
                if url:
                    dt = int((perf_counter() - t0) * 1000)
                    LEARN.log_action("verify_extract_selector", domain, page.url, {"selector": 'a[href*="verifyEmail"]'}, True, dt, selector='a[href*="verifyEmail"]')
                    LEARN.record_param_outcome("verify_extract_order", "airtable_email", "selector", True, dt)
                    print(f"  ‚úÖ –ù–∞–π–¥–µ–Ω URL —á–µ—Ä–µ–∑ —Å–µ–ª–µ–∫—Ç–æ—Ä: {url}")
                    return url
        except Exception:
            pass
        dt = int((perf_counter() - t0) * 1000)
        LEARN.log_action("verify_extract_selector", domain, page.url, {"selector": 'a[href*="verifyEmail"]'}, False, dt)
        return None

    async def try_click_then_regex():
        print("  üîÑ –ü—ã—Ç–∞—é—Å—å –æ—Ç–∫—Ä—ã—Ç—å –ø–∏—Å—å–º–æ Airtable –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å regex...")
        t0 = perf_counter()
        try:
            clicked = await page.evaluate('''() => {
                const isVisible = (el) => !!(el.offsetWidth || el.offsetHeight || el.getClientRects().length);
                const nodes = Array.from(document.querySelectorAll('a, div, span, li'));
                const candidates = nodes.filter(el => {
                    const t = (el.textContent || '').toLowerCase();
                    return isVisible(el) && (
                        t.includes('airtable') ||
                        t.includes('confirm your email') ||
                        t.includes('please confirm') ||
                        t.includes('confirm email')
                    );
                });
                for (const el of candidates) { try { el.click(); return true; } catch (e) {} }
                return false;
            }''')
            await asyncio.sleep(2)
            url = await try_regex(source="after_click")
            dt = int((perf_counter() - t0) * 1000)
            if url:
                LEARN.log_action("verify_click_then_regex", domain, page.url, None, True, dt)
                LEARN.record_param_outcome("verify_extract_order", "airtable_email", "click_then_regex", True, dt)
                return url
            else:
                LEARN.log_action("verify_click_then_regex", domain, page.url, None, False, dt)
        except Exception as e:
            dt = int((perf_counter() - t0) * 1000)
            LEARN.log_action("verify_click_then_regex", domain, page.url, None, False, dt, error=str(e))
        return None

    async def try_click_then_js():
        print("  üîÑ –ü—ã—Ç–∞—é—Å—å –æ—Ç–∫—Ä—ã—Ç—å –ø–∏—Å—å–º–æ Airtable –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å JS-–ø–æ–∏—Å–∫ —Å—Å—ã–ª–æ–∫...")
        t0 = perf_counter()
        try:
            await page.evaluate('''() => {
                const isVisible = (el) => !!(el.offsetWidth || el.offsetHeight || el.getClientRects().length);
                const nodes = Array.from(document.querySelectorAll('a, div, span, li'));
                const candidates = nodes.filter(el => {
                    const t = (el.textContent || '').toLowerCase();
                    return isVisible(el) && (t.includes('airtable') || t.includes('confirm'));
                });
                for (const el of candidates) { try { el.click(); return true; } catch (e) {} }
                return false;
            }''')
            await asyncio.sleep(2)
            url = await try_js_links(source="after_click")
            dt = int((perf_counter() - t0) * 1000)
            if url:
                LEARN.log_action("verify_click_then_js", domain, page.url, None, True, dt)
                LEARN.record_param_outcome("verify_extract_order", "airtable_email", "click_then_js", True, dt)
                return url
            else:
                LEARN.log_action("verify_click_then_js", domain, page.url, None, False, dt)
        except Exception as e:
            dt = int((perf_counter() - t0) * 1000)
            LEARN.log_action("verify_click_then_js", domain, page.url, None, False, dt, error=str(e))
        return None

    # –í—ã–ø–æ–ª–Ω—è–µ–º –ø–æ –æ–±—É—á–∞–µ–º–æ–º—É –ø–æ—Ä—è–¥–∫—É
    for method in order:
        if method == "regex":
            url = await try_regex()
        elif method == "js_links":
            url = await try_js_links()
        elif method == "selector":
            url = await try_selector()
        elif method == "click_then_regex":
            url = await try_click_then_regex()
        elif method == "click_then_js":
            url = await try_click_then_js()
        else:
            url = None
        if url:
            return url

    return "ERROR: Verification link not found on page. Make sure you opened the email."
```

### –®–∞–≥ 2.6. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

–í–Ω—É—Ç—Ä–∏ save_registration_result –¥–æ–±–∞–≤—å—Ç–µ –∑–∞–ø–∏—Å—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –≤ ¬´runs¬ª (—ç—Ç–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –∑–∞–ø—É—Å–∫–∞):

–í –∫–æ–Ω–µ—Ü —Ñ—É–Ω–∫—Ü–∏–∏ save_registration_result (–ø–µ—Ä–µ–¥ print —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–∞ –∏–ª–∏ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ) –¥–æ–±–∞–≤—å—Ç–µ:

```python
# –°–æ–æ–±—â–∞–µ–º LEARN –æ–± –∏—Ç–æ–≥–∞—Ö —ç—Ç–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
try:
    LEARN.finish_run(status=status, confirmed=bool(confirmed), notes=notes or "")
except Exception:
    pass
```

### –®–∞–≥ 2.7. –°—Ç–∞—Ä—Ç –∑–∞–ø—É—Å–∫–∞ (run start)

–í –Ω–∞—á–∞–ª–µ –æ–±—ä–µ–¥–∏–Ω—ë–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ main_airtable_registration_unified (–ø–æ—Å–ª–µ –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã—Ö –ø—Ä–∏–Ω—Ç–æ–≤ –∏ –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π –∫–ª—é—á–∞/–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π –∫–ª–∏–µ–Ω—Ç–∞) –¥–æ–±–∞–≤—å—Ç–µ:

```python
# –°—Ç–∞—Ä—Ç —Å–∞–º–æ–æ–±—É—á–∞—é—â–µ–≥–æ—Å—è ¬´–∑–∞–±–µ–≥–∞¬ª (run)
try:
    LEARN.start_run(phase="unified", email=None, extra={"script": "test_agent3_air"})
except Exception:
    pass
```

–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å start_run –≤ main_airtable_registration (–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –¥–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è –≤–µ—Ä—Å–∏—è), –µ—Å–ª–∏ –≤—ã –µ—ë –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ.

### –®–∞–≥ 2.8. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –º–µ–ª–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–∞

–í type_text_at –≤–Ω—É—Ç—Ä–∏ execute_computer_use_action –∑–∞–º–µ–Ω–∏—Ç–µ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∑–∞–¥–µ—Ä–∂–∫—É 50 –º—Å –Ω–∞ –æ–±—É—á–∞–µ–º—É—é:

```python
delay_ms = LEARN.choose_numeric("type_text_delay_ms", "typing", [20, 35, 50, 75], default=50)
await page.keyboard.type(text, delay=delay_ms)
LEARN.record_param_outcome("type_text_delay_ms", "typing", delay_ms, True, len(text) * delay_ms)
```

---

## –ß–∞—Å—Ç—å 3. –ì–¥–µ –∏ –∫–∞–∫ –≤–Ω–µ–¥—Ä–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ test_agent3_air.py

- –ü–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–æ–≤ –≤—Å—Ç–∞–≤—å—Ç–µ –±–ª–æ–∫ SELF-LEARNING CORE (–®–∞–≥ 2.1).
- –ó–∞–º–µ–Ω–∏—Ç–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é safe_screenshot (–®–∞–≥ 2.2).
- –ü–∞—Ç—á–∏—Ç–µ execute_computer_use_action:
  - –í –±–ª–æ–∫–∞—Ö switch_to_mail_tab –∏ switch_to_airtable_tab ‚Äî –≤—Å—Ç–∞–≤—å—Ç–µ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π tab_wait (–®–∞–≥ 2.3, –ø—É–Ω–∫—Ç—ã 1 –∏ 2).
  - –í –±–ª–æ–∫–µ navigate ‚Äî –∑–∞–º–µ–Ω–∏—Ç–µ –ª–æ–≥–∏–∫—É –≤—ã–±–æ—Ä–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –Ω–∞ –æ–±—É—á–∞–µ–º—É—é (–®–∞–≥ 2.3, –ø—É–Ω–∫—Ç 3).
  - (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –≤ type_text_at ‚Äî –æ–±—É—á–∞–µ–º—ã–π delay (–®–∞–≥ 2.8).
- –ó–∞–º–µ–Ω–∏—Ç–µ —Ç–µ–ª–æ extract_email_from_tempmail_page –Ω–∞ –æ–±—É—á–∞–µ–º—É—é –≤–µ—Ä—Å–∏—é (–®–∞–≥ 2.4).
- –ó–∞–º–µ–Ω–∏—Ç–µ —Ç–µ–ª–æ extract_verification_link_from_page –Ω–∞ –æ–±—É—á–∞–µ–º—É—é –≤–µ—Ä—Å–∏—é (–®–∞–≥ 2.5).
- –í save_registration_result –¥–æ–±–∞–≤—å—Ç–µ LEARN.finish_run (–®–∞–≥ 2.6).
- –í main_airtable_registration_unified –¥–æ–±–∞–≤—å—Ç–µ LEARN.start_run –≤ —Å–∞–º–æ–º –Ω–∞—á–∞–ª–µ (–®–∞–≥ 2.7).
- –ë–æ–ª—å—à–µ –Ω–∏—á–µ–≥–æ –º–µ–Ω—è—Ç—å –Ω–µ –Ω—É–∂–Ω–æ. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Ñ—É–Ω–∫—Ü–∏–π –Ω–µ –º–µ–Ω—è—é—Ç—Å—è, –≤–Ω–µ—à–Ω–∏–µ –≤—ã–∑–æ–≤—ã –æ—Å—Ç–∞—é—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º–∏.

---

## –ß–∞—Å—Ç—å 4. –ö–∞–∫ –∞–≥–µ–Ω—Ç –±—É–¥–µ—Ç –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ —É–ª—É—á—à–∞—Ç—å—Å—è —Å –∫–∞–∂–¥—ã–º –∑–∞–ø—É—Å–∫–æ–º

- –ü–µ—Ä–≤—ã–µ 1‚Äì2 –∑–∞–ø—É—Å–∫–∞ –≤—ã–ø–æ–ª–Ω—è—é—Ç ¬´—Ä–∞–∑–≤–µ–¥–∫—É¬ª (epsilon-greedy –ø—Ä–æ–±—É–µ—Ç —Ä–∞–∑–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏).
- –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è (navigate, selector_wait, screenshot, extract_email, extract_verification_link, switch tabs, typing) –ª–æ–≥–∏—Ä—É—é—Ç—Å—è:
  - success/fail;
  - –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å;
  - –¥–æ–º–µ–Ω/URL;
  - –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (—Å—Ç—Ä–∞—Ç–µ–≥–∏—è/—Ç–∞–π–º–∞—É—Ç/–º–µ—Ç–æ–¥).
- –ù–∞ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—É—Å–∫–µ:
  - –î–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–æ–º–µ–Ω–∞ –∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è ¬´–ª—É—á—à–µ–µ¬ª –Ω–∞—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é 1-epsilon;
  - –° –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é epsilon –ø—Ä–æ–±—É–µ—Ç—Å—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (—á—Ç–æ–±—ã –Ω–µ ¬´–∑–∞—Å—Ç—ã—Ç—å¬ª –∏ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º —Å–∞–π—Ç–æ–≤).
- –ü—Ä–∏–º–µ—Ä—ã —ç—Ñ—Ñ–µ–∫—Ç–∞:
  - –ï—Å–ª–∏ –¥–ª—è temp-mail —á–∞—â–µ –≤—Å–µ–≥–æ email –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∑–∞ 12‚Äì15 —Å–µ–∫ ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä email_initial_wait_ms —Å–æ–π–¥—ë—Ç—Å—è –∫ 12000‚Äì15000.
  - –ï—Å–ª–∏ navigate(domcontentloaded) –¥–ª—è airtable —á–∞—Å—Ç–æ –ø–∞–¥–∞–µ—Ç ‚Äî –±—É–¥–µ—Ç —á–∞—â–µ –≤—ã–±–∏—Ä–∞—Ç—å—Å—è load –∏–ª–∏ minimal, –∏ –ø–æ—Ä—è–¥–æ–∫ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –∏–∑–º–µ–Ω–∏—Ç—Å—è.
  - –ï—Å–ª–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ verification link —á–∞—â–µ —É–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ JS —Å—Å—ã–ª–∫–∏, —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ —Å—Ç–∞–Ω–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–º.
  - –í—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–∫–ª–∞–¥–æ–∫ ¬´–ø—Ä–∏—Å—Ç—Ä–µ–ª—è–µ—Ç—Å—è¬ª (–±–µ–∑ –∏–∑–ª–∏—à–Ω–µ–π –∑–∞–¥–µ—Ä–∂–∫–∏, –Ω–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞).

---

## –ß–∞—Å—Ç—å 5. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —É–ª—É—á—à–µ–Ω–∏–π

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å/–≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:

- –•—Ä–∞–Ω–∏—Ç—å DB –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π –ø–∞–ø–∫–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, ./.selflearn/).
- –î–æ–±–∞–≤–∏—Ç—å –±—ç–∫–∞–ø JSON —Å–æ —Å–≤–æ–¥–Ω—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏ –≤ –∫–æ–Ω—Ü–µ –∫–∞–∂–¥–æ–≥–æ run (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ).

### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è:

- –ü—Ä–æ—Å—Ç–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞: –∑–∞–ø—Ä–æ—Å—ã –∫ SQLite (sqlite3 selflearn_airtable.sqlite3), —á—Ç–æ–±—ã —Å–º–æ—Ç—Ä–µ—Ç—å –ª—É—á—à–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –∏—Å—Ç–æ—Ä–∏–∏.

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –æ–±—É—á–µ–Ω–∏—è (–ø—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏):

- –í—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –ø–æ—Å–ª–µ navigate –ø–µ—Ä–µ–¥ –ø–æ–ø—ã—Ç–∫–æ–π submit.
- –í—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è email –æ—Ç Airtable (15‚Äì30 —Å–µ–∫).
- –ü–æ–ª–∏—Ç–∏–∫–∞ –ø–æ–≤—Ç–æ—Ä–æ–≤ –ø—Ä–∏ –Ω–µ—É—Å–ø–µ—à–Ω–æ–º –∫–ª–∏–∫–µ (–∫–æ–ª-–≤–æ –ø–æ–ø—ã—Ç–æ–∫ 1‚Äì3).

### –†–µ–≥—É–ª–∏—Ä–æ–≤–∫–∞ epsilon:

- –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è AUTOLEARN_EPS (–Ω–∞–ø—Ä–∏–º–µ—Ä, 0.12 ‚Üí 0.05 –ø–æ—Å–ª–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö –ø—Ä–æ–≥–æ–Ω–æ–≤).

### –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –¥—Ä—É–≥–∏–µ —Å–µ—Ä–≤–∏—Å—ã:

- –ö–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –¥–ª—è –∫–ª—é—á–µ–π –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å–ª—É–∂–∏—Ç –¥–æ–º–µ–Ω. –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –¥–æ–º–µ–Ω—ã ‚Äî –ø—Ä–æ—Å—Ç–æ.

---

## –ò—Ç–æ–≥

- –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–±–∞–≤–ª—è—é—Ç ¬´—Ç–æ–Ω–∫–∏–π —Å–ª–æ–π¬ª —Å–∞–º–æ–æ–±—É—á–µ–Ω–∏—è –∏ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏ –≤ —Ç–æ—á–∫–∞—Ö, –≥–¥–µ —ç—Ç–æ —Ä–µ–∞–ª—å–Ω–æ –≤–ª–∏—è–µ—Ç –Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å: —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏, —Ç–∞–π–º–∞—É—Ç—ã, –ø–æ—Ä—è–¥–æ–∫ –º–µ—Ç–æ–¥–æ–≤ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è, –æ–∂–∏–¥–∞–Ω–∏–µ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–∫–ª–∞–¥–æ–∫ –∏ –≤–≤–æ–¥.
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –≤–Ω–µ—à–Ω–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ñ—É–Ω–∫—Ü–∏–π –Ω–µ –∏–∑–º–µ–Ω—è—é—Ç—Å—è.
- –°–∏—Å—Ç–µ–º–∞ –Ω–∞—á–Ω–µ—Ç –Ω–∞–∫–∞–ø–ª–∏–≤–∞—Ç—å –∑–Ω–∞–Ω–∏—è —Å –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –∏ –±—É–¥–µ—Ç –≤—Å—ë –ª—É—á—à–µ –≤—ã–±–∏—Ä–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è temp-mail –∏ Airtable, –ø–æ–≤—ã—à–∞—è –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å –∏ —Å–∫–æ—Ä–æ—Å—Ç—å.
